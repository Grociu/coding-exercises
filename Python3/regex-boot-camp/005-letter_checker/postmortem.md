Doing this with regex would be a pain, and I like the set mechanics to do this.

Test function still eludes me, I think it's a custom module that Edabit uses.